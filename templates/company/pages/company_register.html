{% extends 'auth_header.html' %}
{% load static %}
{% block title %}Company Login - Placement Portal{% endblock %}

{% block content %}

<!-- Auth Container -->
<div class="auth-container">
    <div class="container">
        <div class="auth-card auth-card--wide">
            <div class="auth-header">
                <i class="fas fa-building fa-3x mb-3"></i>
                <h3>Company Registration</h3>
                <p class="mb-0">Register your company with us</p>
            </div>
            <div class="card-body p-4">
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}

                    <!-- MESSAGE BLOCK START -->
                    {% if messages %}
                    {% for message in messages %}
                    {% if message.tags == "error" %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {% else %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {% endif %}

                            {% if message.tags == "success" %}
                            <i class="fas fa-check-circle me-2"></i>
                            {% elif message.tags == "error" %}
                            <i class="fas fa-times-circle me-2"></i>
                            {% elif message.tags == "warning" %}
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            {% elif message.tags == "info" %}
                            <i class="fas fa-info-circle me-2"></i>
                            {% endif %}

                            {{ message }}

                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                        {% endfor %}
                        {% endif %}
                        <!-- MESSAGE BLOCK END -->

                        <div class="row">

                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Company Name <span class="text-danger">*</span></label>
                                    <input type="text" name="company_name" value="{{ old_data.company_name|default:'' }}" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Company Email <span class="text-danger">*</span></label>
                                    <input type="email" name="company_email" value="{{ old_data.company_email|default:'' }}" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Phone Number <span class="text-danger">*</span></label>
                                    <input type="tel" name="phone" value="{{ old_data.phone|default:'' }}" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">GST Number <span class="text-danger">*</span></label>
                                    <input type="text" name="gst_number" value="{{ old_data.gst_number|default:'' }}" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Industry <span class="text-danger">*</span></label>
                                    <select name="industry" class="form-select" required>
                                        <option value="">Select industry</option>
                                        <option value="IT" {% if old_data.industry == "IT" %}selected{% endif %}> >IT</option>
                                        <option value="Software" {% if old_data.industry == "Software" %}selected{% endif %}> >Software</option>
                                        <option value="Finance" {% if old_data.industry == "Finance" %}selected{% endif %}> >Finance</option>
                                        <option value="Manufacturing" {% if old_data.industry == "Manufacturing" %}selected{% endif %}> >Manufacturing</option>
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Company Size</label>
                                    <select name="company_size" class="form-select">
                                        <option value="">Select size</option>
                                        <option>1–50</option>
                                        <option>51–200</option>
                                        <option>201–500</option>
                                        <option>500+</option>
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Website <span class="text-danger">*</span></label>
                                    <input type="url" name="website" value=" {{ old_data.website|default:'' }}" class="form-control" required>
                                </div>

                                <!-- <div class="mb-3">
                                    <label class="form-label">Linkedin <span class="text-danger">*</span></label>
                                    <input type="url" class="form-control" placeholder="https://linkedin.com/in/username" required>
                                </div> -->
                                <!-- NEW FIELD -->
                                <div class="mb-3">
                                    <label class="form-label">Company Description <span
                                            class="text-danger">*</span></label>
                                    <textarea name="description" value=" {{ old_data.description|default:'' }}" class="form-control" rows="3" required></textarea>
                                </div>

                                <!-- MOVED HERE -->
                                <div class="mb-3">
                                    <label class="form-label">Address</label>
                                    <textarea name="address" value=" {{ old_data.address|default:'' }}" class="form-control" rows="3"></textarea>
                                </div>
                            </div>

                            <!-- RIGHT SIDE -->

                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Contact Person Name <span
                                            class="text-danger">*</span></label>
                                    <input type="text" name="cp_name" value=" {{ old_data.cp_name|default:'' }}" class="form-control" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Contact Person Email <span
                                            class="text-danger">*</span></label>
                                    <input type="email" name="cp_email" value=" {{ old_data.cp_email|default:'' }}" class="form-control" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Contact Person Number <span
                                            class="text-danger">*</span></label>
                                    <input type="tel" name="cp_phone" value=" {{ old_data.cp_phone|default:'' }}" class="form-control" required>
                                </div>


                                <div class="mb-3">
                                    <label class="form-label">Designation <span class="text-danger">*</span></label>
                                    <input type="text" name="designation" value=" {{ old_data.designation|default:'' }}" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">
                                        Company Registration Certificate <span class="text-danger">*</span>
                                    </label>
                                    <div class="file-drop-zone">
                                        <i class="fas fa-file-upload file-drop-icon"></i>
                                        <div class="file-drop-text">Upload Certificate</div>
                                        <div class="file-drop-hint">PDF, DOC, JPG, PNG (Max 5MB)</div>
                                        <input type="file" name="reg_certificate" class="file-drop-input" required>
                                    </div>

                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Password <span class="text-danger">*</span></label>
                                    <input type="password" name="password" class="form-control" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Confirm Password <span
                                            class="text-danger">*</span></label>
                                    <input type="password" name="confirm_password" class="form-control" required>
                                </div>
                            </div>


                            <!-- FULL WIDTH -->
                            <div class="mb-3 form-check mt-2">
                                <input type="checkbox" class="form-check-input" required>
                                <label class="form-check-label">
                                    I agree to the Terms & Conditions
                                </label>
                            </div>
                            <div class="alert alert-info">
                                <small><i class="fas fa-info-circle me-1"></i>Your registration will be reviewed by the
                                    placement cell. You will receive an email once approved.</small>
                            </div>
                            <button type="submit" class="btn btn-success w-100">
                                <i class="fas fa-building me-2"></i> Register Company
                            </button>

                            <div class="text-center">
                                <p class="mb-0">Already registered? <a href="{% url 'company_login' %}"
                                        class="text-decoration-none">Login here</a></p>
                            </div>
                </form>
            </div>
        </div>
    </div>
</div>


    // document.getElementById('companyRegisterForm').addEventListener('submit', function (e) {
    //     e.preventDefault();
    //     if (validateForm('companyRegisterForm')) {
    //         showToast('Registration submitted successfully! The placement cell will review your application.', 'success');
    //         setTimeout(() => {
    //             window.location.href = 'company-login.html';
    //         }, 2000);
    //     }
    // });

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}